<!DOCTYPE html>
<html>
<head>
	<title>Manage User</title>
</head>
<body>
	<div layout="column" layout-padding="" layout-fill>
		<md-content>
		    <md-tabs md-dynamic-height md-border-bottom>
		      	<md-tab label="User List">
		        	<md-content class="md-padding">
		          		<div layout="column">
		          			<div layout="row" layout-align="center center">
		          				<div flex>
		          					Username
		          				</div>
		          				<div flex>
		          					Permission
		          				</div>
		          			</div>
		          		</div>
		          		<div layout="column" ng-repeat="user in users">
		          			<div layout="row" layout-align="center center">
		          				<div flex >
		          				<p>{{user.userName}}</p>
		          				</div>
		          				<div flex>
		          				<p>{{user.permission}}</p>
		          				</div>
		          			</div>
		          		</div>
		        	</md-content>
		      	</md-tab>
		      	<md-tab label="Add User">
		        	<md-content class="md-padding">
		          		<div layout="column">
		          			<md-content class="md-no-momentum">
		          				<form name="userForm" ng-submit='manageUser.addUser(userData);'  ng-hide="manageUser.loader">
		          					<div layout="row">
			          			    <md-input-container class="md-icon-float md-block" flex="50">
			          			      	<label>Username</label>
			          			      	<md-icon class="md-default-theme" class="material-icons">&#xE7FD;</md-icon>
			          			      	<input ng-model="manageUser.userData.username" type="text" name="username" ng-pattern="/^[a-zA-Z0-9_-]*$/" required>
			          			      	<md-tooltip md-direction="bottom">Eg: doctor@{{main.hospitalname}}.care</md-tooltip>
			          			      	<div ng-messages="userForm.username.$error" role="alert" multiple>
			          			      	    <div ng-message="required" class="my-message">This field is required</div>
			          			      	    <div ng-message="pattern" class="my-message">Special characters are not allowed</div>
			          			      	</div>
			          			    </md-input-container>
			          			    <md-input-container flex="50">
			          			        <label>Hospital name</label>
			          			        <md-select name="domain" type="text" ng-model="manageUser.userData.domain" md-no-asterisk required>
			          			            <md-option value="@{{main.hospitalname}}.care">@{{main.hospitalname}}.care</md-option>
			          			        </md-select>
			          			        <div ng-messages="userForm.domain.$error" role="alert" multiple>
			          			            <div ng-message="required" class="my-message">This field is required</div>
			          			        </div>
			          			    </md-input-container>
			          				</div>
									<md-input-container class="md-icon-float md-block">
									  	<label>Password</label>
									  	<md-icon class="md-default-theme" class="material-icons">&#xE0DA;</md-icon>
									  	<input ng-model="manageUser.userData.password" type="password" name="password" minlength="4" required>
									  	<div ng-messages="userForm.password.$error" role="alert" multiple>
									  	    <div ng-message="required" class="my-message">This field is required</div>
									  	    <div ng-message="minlength" class="my-message">That's too short! </div>
									  	</div>
									</md-input-container>
									<md-input-container class="md-icon-float md-block">
									  	<label>Confirm Password</label>
									  	<md-icon class="md-default-theme" class="material-icons">&#xE0DA;</md-icon>
									  	<input ng-model="manageUser.userData.confirmPassword" type="password" name="confirmPassword" ng-pattern="{{manageUser.userData.password}}" required>
									  	<div ng-messages="userForm.confirmPassword.$error" role="alert" multiple>
									  	    <div ng-message="required" class="my-message">This field is required</div>
									  		<div ng-message="pattern" class="my-message">Passwords not matched!</div>
									  	</div>									
									</md-input-container>
									<md-input-container class="md-icon-float md-block">
									    <label>Account type</label>
									    <md-select name="type" type="text" ng-model="manageUser.userData.permission" md-no-asterisk  required>
									        <md-option value="doctor">doctor</md-option>
									        <md-option value="nurse">nurse</md-option>
									    </md-select>
									    <div ng-messages="userForm.type.$error" role="alert" multiple>
									        <div ng-message="required" class="my-message">This field is required</div>
									    </div>
									</md-input-container>
									<div layout="row">
									   <div md-theme="altTheme">
									      <md-button type="submit" class="md-raised md-warn">Submit</md-button>
									   </div>
									</div>
								</form>
								<div layout="column" layout-fill layout-align="center center" ng-show="manageUser.loader">
									<div>Form Submitted</div>
									<md-progress-linear md-mode="indeterminate"></md-progress-linear>
								</div>
			          		</md-content>
		          		</div>
		        	</md-content>
		      	</md-tab>
		    </md-tabs>
		</md-content>
	</div>
</body>
</html>